{"version":3,"sources":["mdl.js"],"names":[],"mappings":"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","file":"mdl.js","sourcesContent":["import {inject, customAttribute} from 'aurelia-framework';\nimport {componentHandler} from 'encapsulated-mdl';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\nlet mdlTypes = {\n  button: {\n    html: ['mdl-button', 'mdl-js-button'],\n    js: ['MaterialButton'],\n    fct: [manageRipple]\n  },\n  textfield: {\n    js: ['MaterialTextfield'],\n    html: ['mdl-textfield', 'mdl-js-textfield'],\n    fct: []\n  },\n  layout: {\n    js: ['MaterialLayout'],\n    html: ['mdl-layout', 'mdl-js-layout'],\n    fct: [manageRipple]\n  },\n  menu: {\n    js: ['MaterialMenu'],\n    html: ['mdl-menu', 'mdl-js-menu'],\n    fct: [manageRipple]\n  },\n  'data-table': {\n    js: ['MaterialDataTable'],\n    html: ['mdl-data-table', 'mdl-js-data-table'],\n    fct: [manageRipple]\n  },\n  tabs: {\n    js: ['MaterialTabs'],\n    html: ['mdl-tabs', 'mdl-js-tabs'],\n    fct: [manageRipple]\n  },\n  slider: {\n    js: ['MaterialSlider'],\n    html: ['mdl-slider', 'mdl-js-slider'],\n    fct: []\n  },\n  tooltip: {\n    js: ['MaterialTooltip'],\n    html: ['mdl-tooltip'],\n    fct: []\n  },\n  progress: {\n    js: ['MaterialProgress'],\n    html: ['mdl-progress', 'mdl-js-progress'],\n    fct: []\n  },\n  spinner: {\n    js: ['MaterialSpinner'],\n    html: ['mdl-spinner', 'mdl-js-spinner'],\n    fct: []\n  },\n  badge: {\n    js: [],\n    html: ['mdl-badge'],\n    fct: []\n  },\n  switch: {\n    js: ['MaterialSwitch'],\n    html: ['mdl-switch', 'mdl-js-switch'],\n    fct: [manageRipple]\n  },\n  radio: {\n    js: ['MaterialRadio'],\n    html: ['mdl-radio', 'mdl-js-radio'],\n    fct: [manageRipple]\n  },\n  'icon-toggle': {\n    js: ['MaterialIconToggle'],\n    html: ['mdl-icon-toggle', 'mdl-js-icon-toggle'],\n    fct: [manageRipple]\n  },\n  checkbox: {\n    js: ['MaterialCheckbox'],\n    html: ['mdl-checkbox', 'mdl-js-checkbox'],\n    fct: [manageRipple]\n  },\n  dialog: {\n    js: ['MaterialDialog'],\n    html: ['mdl-dialog', 'mdl-js-dialog'],\n    fct: []\n  },\n  'mega-footer': {\n    js: [],\n    html: ['mdl-mega-footer'],\n    fct: []\n  },\n  'mini-footer': {\n    js: [],\n    html: ['mdl-mini-footer'],\n    fct: []\n  },\n  grid: {\n    js: [],\n    html: ['mdl-grid'],\n    fct: []\n  },\n  snackbar: {\n    js: ['MaterialSnackbar'],\n    html: ['mdl-snackbar'],\n    fct: []\n  }\n\n};\n\nfunction manageRipple(element) {\n  if (element.classList.contains('mdl-js-ripple-effect')) {\n    componentHandler.upgradeElement(element, 'MaterialRipple');\n  }\n  /**\n   * Causes issues: upgrades nested elements that has mdl-js-ripple-effect class before the nested elements upgraded, marking them as\n   * MaterialRipple upgraded, when the nested elements upgraded, and ripple upgrade tries to take place, it doesn't because it is already\n   * marked as upgraded.\n   * eventually causing rippleElement to be null on MaterialRipple.\n   * NOTE: \"mdl-js-ripple-effect\" should be only on upgradable material elements, not on non material nested elements.\n  let elements = element.querySelectorAll('.mdl-js-ripple-effect');\n  for (let el of elements) {\n    componentHandler.upgradeElement(el, 'MaterialRipple');\n  }*/\n\n  /** Some of the elements do require upgrade of nested elements, to avoid issues we must handle it carefully\n   * NOTE: not sure about all the elements that require nested upgrading. Will add all the required when used and tested.\n   */\n  if (element.MaterialIconToggle) {\n    /* We need to upgrade immediate children only, no easy way to do it (for all browsers) */\n    let children = element.children;\n    for (let child of children) {\n      if (child.classList.contains('mdl-js-ripple-effect')) {\n        componentHandler.upgradeElement(child, 'MaterialRipple');\n      }\n    }\n  }\n}\n\nfunction upgradeElement(element, type) {\n  let {html, fct, js} = (mdlTypes[type] || {});\n  if (html) {\n    for (let h of html) {\n      element.classList.add(h);\n    }\n  }\n  for (let t of js) componentHandler.upgradeElement(element, t);\n  for (let f of fct) f(element);\n}\n\n@inject(Element, EventAggregator)\n@customAttribute('mdl')\nexport class MDLCustomAttribute {\n\n  constructor(element, eventAggregator) {\n    this.element = element;\n    this.eventAggregator = eventAggregator;\n  }\n\n  attached() {\n    //console.log(\"mdl attached: \" + this.value);\n    upgradeElement(this.element, this.value);\n    let payload = {publisher: this, data: this.element};\n    this.eventAggregator.publish('mdl:component:upgrade', payload);\n  }\n}\n"],"sourceRoot":"/source/"}